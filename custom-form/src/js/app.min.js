$.fn.countdown=function(milliseconds,callback){var $el=this,buffer=10,end,timer;function formatTime(time){return minutes=time.getMinutes(),seconds=time.getSeconds(),minutes<"10"&&(minutes="0"+minutes),seconds<"10"&&(seconds="0"+seconds),minutes+":"+seconds}function tick(){var remaining=new Date(end-Date.now());remaining>0?($el.html(formatTime(remaining)),timer=setTimeout(tick,1e3)):(clearInterval(timer),callback&&callback.apply($el))}milliseconds=milliseconds||3e5,end=new Date(Date.now()+milliseconds+10),tick()},$("#timer").countdown(6e5,(function(){this.html("00:00")}));var formWrap=$("#clp-regiform"),form=formWrap.find("#regiform"),url=form.attr("action"),method=form.attr("method");$('#clp-regiform [class*="submit"]').on("click",(function(){var _=$(this),arr=[],cnt=0;function getFormData(form){var originData=form.serializeArray(),exportData={};return $.map(originData,(function(n,i){exportData[n.name]=n.value})),exportData}if(_.blur(),$("#regiform").find("[required]").each((function(i){var _=$(this),gr=$(".form-group"),el=$("[id="+_.attr("id")+"]"),tg=el.closest(gr),er="error";if(_.val())tg.removeClass(er).find(".error-msg").html("");else{var pos;arr[pos=++cnt-1]=_.attr("name");var msg=_.data("error-msg");tg.addClass(er).find(".error-msg").html(msg),el.keyup((function(){_.val().length>0?tg.removeClass(er).find(".error-msg").html(""):_.val().length<1&&tg.addClass(er).find(".error-msg").html(msg)})),$("select").on("change",(function(){var _=$(this),vl=_.find("option:selected").val(),gr=_.closest(".form-group");vl.length<1&&gr.addClass(er).find(".error-msg").html(msg),vl.length>0&&gr.removeClass(er).find(".error-msg").html("")}))}})),$("#regiform").find("[type=checkbox]").each((function(){var _=$(this),gr=$(".form-group"),el,tg=$("[id="+_.attr("id")+"]").closest(gr),er="error";if(_.prop("checked"))console.log("Checked Box Selected");else{cnt++;var msg=_.data("error-msg");tg.addClass(er).find(".error-msg").html(msg),console.log("Checked Box deselect")}_.on("change",(function(){_.prop("checked")?tg.removeClass(er).find(".error-msg").html(""):tg.addClass(er).find(".error-msg").html(msg)}))})),cnt<1){var form=$("#regiform"),data=getFormData(form);$.ajax({url:url,type:method,data:JSON.stringify(data),cache:!1,contentType:!1,processData:!1}).done((function(data){return form[0].reset(),console.log("Thanks for contacting me! I will get back to you soon!"),"parentIFrame"in window&&window.parentIFrame.sendMessage("timeout"),!1}))}else $("[id="+arr[0]+"]").focus()}));